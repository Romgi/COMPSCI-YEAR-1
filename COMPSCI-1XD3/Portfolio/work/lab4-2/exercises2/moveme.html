<!DOCTYPE html>
<!--
To be used in exercises. 

NOTE ON ABSOLUTE POSITIONING: When an element has position:absolute, you can place 
anywhere on the page you want. You can specify a pixel position of the top, left
corner using the top and left CSS properties. If the element is a child of
<body> this will position it relative to the top left corner of the page.

If an element with absolute position is inside another element with absolute
position (as the "moveme" div is below) you specify top and left to move it 
relative to the top left corner of the containing element. So for this element,
top: 0px and left: 0px puts it in the top left corner of the "container" div.

-->
<html>

<head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        #container {
            position: absolute;
            top: 50px;
            left: 50px;
            width: 500px;
            height: 500px;
            border: 10px solid black;
            border-radius: 70px;
        }

        #moveme {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100px;
            height: 100px;
            background-color: green;
            border-radius: 100px;
            border: 10px solid black;
        }
    </style>
    <script type="text/javascript">
        let posX = 0;
        let posY = 0;

        function getBounds() {
            const container = document.getElementById("container");
            const mover = document.getElementById("moveme");
            return {
                maxX: container.clientWidth - mover.offsetWidth,
                maxY: container.clientHeight - mover.offsetHeight
            };
        }

        function applyPosition(x, y) {
            const mover = document.getElementById("moveme");
            posX = x;
            posY = y;
            mover.style.left = posX + "px";
            mover.style.top = posY + "px";
        }

        function moveRandomConfirm() {
            if (!confirm("Move the circle to a random position?")) {
                return;
            }
            const bounds = getBounds();
            const x = Math.floor(Math.random() * (bounds.maxX + 1));
            const y = Math.floor(Math.random() * (bounds.maxY + 1));
            applyPosition(x, y);
        }

        function moveByPrompt() {
            const input = prompt("Enter U, D, L, R, or Q:");
            if (input === null) {
                return;
            }
            const command = input.trim().toUpperCase();
            if (command === "Q") {
                return;
            }

            let nextX = posX;
            let nextY = posY;
            const step = 20;
            if (command === "U") nextY -= step;
            if (command === "D") nextY += step;
            if (command === "L") nextX -= step;
            if (command === "R") nextX += step;

            const bounds = getBounds();
            nextX = Math.max(0, Math.min(bounds.maxX, nextX));
            nextY = Math.max(0, Math.min(bounds.maxY, nextY));

            applyPosition(nextX, nextY);
        }

        function initControls() {
            const randomBtn = document.getElementById("move-random");
            const promptBtn = document.getElementById("move-prompt");
            if (randomBtn) {
                randomBtn.addEventListener("click", moveRandomConfirm);
            }
            if (promptBtn) {
                promptBtn.addEventListener("click", moveByPrompt);
            }
        }

        window.addEventListener("DOMContentLoaded", initControls);
    </script>
</head>

<body>
    <div>
        <button id="move-random" type="button">Move Random</button>
        <button id="move-prompt" type="button">Move with Prompt</button>
    </div>
    <div id="container">
        <div id='moveme'></div>
    </div>
</body>

</html>
